{"version":3,"file":"index.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/classnames/index.js","../raster/context.ts","../raster/utils/isArray.ts","../raster/utils/normalizeProps.ts","../raster/utils/getMediaQueries.ts","../raster/utils/getAlign.ts","../raster/utils/useControl.ts","../raster/utils/inner.tsx","../raster/utils/resetter.tsx","../raster/utils/useCssMode.ts","../raster/utils/container.ts","../raster/Grid/StyledGrid.tsx","../node_modules/nanoid/index.browser.js","../raster/utils/getColsPercent.ts","../raster/utils/getAlignmentXRest/getBreakpointRows.ts","../raster/utils/getAlignmentXRest/index.ts","../raster/utils/normalizeRest.ts","../raster/utils/getReset.ts","../raster/Box/StyledBox.tsx","../raster/Box/props.ts","../raster/utils/getMarginsPercent.ts","../raster/Box/hooks/useMarginPercent.ts","../raster/Box/index.tsx","../raster/Control/index.tsx","../raster/utils/useCurrentBreakpoint.ts","../raster/Grid/props.ts","../raster/Grid/index.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\n\ninterface ContextProps {\n  cssMode: \"grid\" | \"flex\";\n  breakpoints: number[];\n  gutterX: string[];\n  gutterY: string[];\n  colspan: number;\n  parentCols: number[];\n  media: any[];\n  controlIsVisible: boolean;\n  controlColor: string;\n  rest: { id: string; width: number[] }[];\n  registerChildBox?: (childBox: {\n    left: number[];\n    right: number[];\n    cols: number[];\n    id: string;\n  }) => void;\n}\n\nconst Context = React.createContext<ContextProps | null>(null);\n\nexport default Context;\n","export default function isArray(prop: any): boolean {\n  if (!prop) return false;\n  return prop.constructor === Array;\n}\n","import isArray from \"./isArray\";\n\nfunction addValues({ array, breakpointsLength }) {\n  const lastKnownValue = array[array.length - 1];\n  while (array.length < breakpointsLength) {\n    array.push(lastKnownValue);\n  }\n  return array;\n}\n\nfunction getArray(prop, defaultProp) {\n  if (!prop) {\n    if (isArray(defaultProp)) return defaultProp;\n    return defaultProp ? [defaultProp] : [prop];\n  }\n  if (!isArray(prop)) return [prop];\n  return prop;\n}\n\ninterface Props {\n  prop: number | number[] | string | string[];\n  defaultProp?: any;\n  breakpoints: number[];\n}\n\nexport default function normalizeProps({\n  prop,\n  defaultProp,\n  breakpoints,\n}: Props): any[] {\n  const breakpointsLength = breakpoints.length;\n  let array = getArray(prop, defaultProp);\n\n  if (array.length < breakpointsLength)\n    array = addValues({ array, breakpointsLength });\n  if (array.length > breakpointsLength) array = array.splice(breakpointsLength);\n  return array;\n}\n","// @ts-nocheck\nimport { css } from \"styled-components\";\n\nexport default function getMediaQueries(breakpoints: number[]): any {\n  const breakpointsLength: number = breakpoints.length;\n  return breakpoints.map((bp, index) => {\n    const max: string =\n      index !== breakpointsLength - 1\n        ? ` and (max-width: ${breakpoints[index + 1] - 1}px)`\n        : \"\";\n\n    return (...args: TemplateStringsArray) => {\n      return css`\n        @media (min-width: ${bp}px) ${max} {\n          ${css(...args)};\n        }\n      `;\n    };\n  });\n}\n","interface Props {\n  align: string[];\n  cssMode: \"grid\" | \"flex\";\n  hasChildBoxes: boolean;\n}\n\nexport default function getAlign({\n  align,\n  cssMode,\n  hasChildBoxes,\n}: Props): string[] {\n  return cssMode === \"grid\" && hasChildBoxes\n    ? align.map((al) => {\n        switch (al) {\n          case \"left\":\n            return \"start\";\n          case \"right\":\n            return \"end\";\n          case \"top\":\n            return \"start\";\n          case \"bottom\":\n            return \"end\";\n          default:\n            return al;\n        }\n      })\n    : align.map((al) => {\n        switch (al) {\n          case \"left\":\n            return \"flex-start\";\n          case \"right\":\n            return \"flex-end\";\n          case \"top\":\n            return \"flex-start\";\n          case \"bottom\":\n            return \"flex-end\";\n          default:\n            return al;\n        }\n      });\n}\n","import React from \"react\";\n\nconst useControl = (control: boolean): boolean => {\n  const [isVisible, setIsVisible] = React.useState(false);\n  React.useEffect(() => {\n    function onKeyup(event) {\n      if (event.keyCode !== 27) return;\n      setIsVisible((prevState) => !prevState);\n    }\n    if (!control) return;\n    document.addEventListener(\"keyup\", onKeyup);\n    return () => document.removeEventListener(\"keyup\", onKeyup);\n  }, []);\n\n  return isVisible;\n};\n\nexport default useControl;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst InnerTag = ({ className, children }) => (\n  <div className={className}>{children}</div>\n);\n\ninterface StyledProps {\n  className: string;\n  media: any[];\n  alignX: string[];\n  alignY: string[];\n  style: string[];\n  hasChildBoxes: boolean;\n}\n\nconst StyledInner = styled(InnerTag)<StyledProps>`\n  position: relative;\n  width: 100%;\n\n  ${(props) =>\n    props.media.map((media: any, index: number) => {\n      return props.hasChildBoxes\n        ? media`\n          display: flex;\n          align-items: stretch;\n          justify-content: stretch;\n          ${props.style && props.style[index]}\n        `\n        : media`\n          ${(props.alignX[index] || props.alignY[index]) && `display: flex;`}\n          ${props.alignX[index] && `justify-content: ${props.alignX[index]};`}\n          ${props.alignY[index] && `align-items: ${props.alignY[index]};`}\n          ${props.style[index]}\n        `;\n    })}\n`;\n\ninterface Props {\n  cssMode: \"grid\" | \"flex\";\n  className: string;\n  alignX: string[];\n  alignY: string[];\n  style: string[];\n  media: any[];\n  children: React.ReactElement;\n  hasChildBoxes: boolean;\n}\n\nconst Inner: React.FC<Props> = ({\n  media,\n  className,\n  alignX,\n  alignY,\n  style,\n  children,\n  cssMode,\n  hasChildBoxes,\n}) => {\n  if (cssMode === \"grid\") return children;\n  return (\n    <StyledInner\n      className={className}\n      media={media}\n      alignX={alignX}\n      alignY={alignY}\n      style={style}\n      hasChildBoxes={hasChildBoxes}\n    >\n      {children}\n    </StyledInner>\n  );\n};\n\nexport default Inner;\n","// @ts-nocheck\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst ResetterTag = ({ className, children }) => {\n  return <div className={className}>{children}</div>;\n};\n\ninterface Props {\n  cssMode: \"grid\" | \"flex\";\n  className: string;\n  hasChildBoxes: boolean;\n  gutterX: string[];\n  gutterY: string[];\n  alignX: string[];\n  alignY: string[];\n  media: any[];\n  padding?: string[] | number[];\n  children: React.ReactNode;\n}\n\nconst StyledResetter = styled(ResetterTag)<Props>`\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  ${(props) =>\n    props.media.map((media, index) => {\n      return media`\n      width: calc(100% + (${props.gutterX[index]}));      \n      margin-left: calc(-${props.gutterX[index]} / 2);\n      margin-right: calc(-${props.gutterX[index]} / 2);\n      margin-top: calc(-${props.gutterY[index]} / 2);\n      margin-bottom: calc(-${props.gutterY[index]} / 2);\n\n      align-items: ${props.alignY[index]};\n      justify-content: ${props.alignX[index]};    \n      \n      padding: ${props.padding && props.padding[index]};\n    `;\n    })}\n`;\n\nconst Resetter: React.FC<Props> = (props) => {\n  if (props.cssMode === \"grid\" || !props.hasChildBoxes) return props.children;\n  return <StyledResetter {...props} />;\n};\n\nexport default Resetter;\n","import React from \"react\";\n\ntype TCssMode = \"grid\" | \"flex\";\n\nexport default function useCssMode(initialValue?: TCssMode): TCssMode {\n  const [cssMode, setCssMode] = React.useState(initialValue);\n\n  React.useEffect(() => {\n    if (cssMode) return;\n    const supportsCSS = (window.CSS && window.CSS.supports) || false;\n    const supportsGrid = supportsCSS\n      ? supportsCSS(\"grid-template-rows\", \"none\")\n      : false;\n\n    if (!supportsGrid) {\n      setCssMode(\"flex\");\n    }\n  }, []);\n\n  return cssMode;\n}\n","import React from \"react\";\n\ninterface Props {\n  className: string;\n  attrs?: any;\n  tag?: string;\n  children: React.ReactNode;\n}\n\nconst Container = React.forwardRef<HTMLElement, Props>(\n  ({ className, children, attrs = {}, tag = \"div\" }, ref) => {\n    return React.createElement(\n      tag,\n      { ...attrs, className, ref },\n      tag !== \"img\" ? children : undefined\n    );\n  }\n);\n\nexport default Container;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport Container from \"../utils/container\";\n\ninterface Props {\n  attrs?: object;\n  colspan: number;\n  className: string;\n  gutterX: string[];\n  gutterY: string[];\n  alignX: string[];\n  alignY: string[];\n  media: any[];\n  left: string[];\n  right: string[];\n  top: string[];\n  bottom: string[];\n  position: string[];\n  tag: string;\n  isControl: boolean;\n  children: React.ReactNode;\n  cssMode: \"grid\" | \"flex\";\n  style: string[];\n}\n\nconst controlStyles = `\n  width: 100%;\n  z-index: 10000;\n  left: 0; \n  top: 0; \n  bottom: 0;\n  margin: 0;\n  grid-auto-rows: auto;\n  pointer-events: none;\n`;\n\nconst GridLayout = styled(Container)<Props>`\n  display: grid;\n  grid-template-columns: repeat(${(props) => props.colspan}, 1fr);\n  grid-auto-columns: ${(props) => props.colspan}fr;\n  grid-auto-rows: min-content;\n  box-sizing: border-box;\n  ${(props: Props) =>\n    props.media.map((media, index) => {\n      return media`\n      position: ${(props: Props) => props.position[index]};\n      padding-left: ${props.left[index]};\n      padding-right: ${props.right[index]};\n      padding-top: ${props.top[index]};\n      padding-bottom: ${props.bottom[index]};\n      grid-column-gap: ${props.gutterX[index]};\n      grid-row-gap: ${props.gutterY[index]};\n      align-content: ${(props: Props) => props.alignY[index]};\n      align-items: ${(props: Props) => props.alignY[index]};\n      ${props.style[index]}\n      ${\n        props.isControl && props.gutterX[index] === \"0px\"\n          ? \"grid-column-gap: 1px;\"\n          : \"\"\n      }\n    `;\n    })}\n  ${(props) => props.isControl && controlStyles}\n`;\n\nconst FlexBox = styled(Container)<Props>`\n  display: flex;\n  align-items: stretch;\n  box-sizing: border-box;\n\n  ${(props) =>\n    props.media.map((media, index) => {\n      return media`\n      position: ${(props) => props.position[index]};\n      padding-left: ${props.left[index]};\n      padding-right: ${props.right[index]};\n      padding-top: ${props.top[index]};\n      padding-bottom: ${props.bottom[index]};\n      ${props.style[index]}\n    `;\n    })}\n  ${(props) => props.isControl && controlStyles}\n`;\n\nconst StyledGrid = React.forwardRef<HTMLElement, Props>((props, ref) => {\n  switch (props.cssMode) {\n    case \"flex\":\n      return <FlexBox {...props} ref={ref} />;\n    case \"grid\":\n      return <GridLayout {...props} ref={ref} />;\n  }\n});\n\nexport default StyledGrid;\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","interface Props {\n  cols: number[];\n  left: number[];\n  right: number[];\n  parentCols: number[];\n  cssMode: \"grid\" | \"flex\";\n}\n\nexport default function getColsPercent({\n  cols,\n  left,\n  right,\n  parentCols,\n  cssMode,\n}: Props): number[] {\n  if (cssMode === \"grid\") {\n    return cols.map((col, index) => col + left[index] + right[index]);\n  }\n  return cols.map((col, index) => (col * 100) / parentCols[index]);\n}\n","interface Props {\n  children: { width: number[]; id: string }[];\n  cols: number;\n  index: number;\n  alignX: string;\n}\n\ntype Row = {\n  ids: string[];\n  width: number;\n};\n\nfunction getWidth(alignX: string, cols: number, rowWidth: number): number {\n  switch (alignX) {\n    case \"center\":\n      return (cols - rowWidth) / 2;\n    case \"end\":\n      return cols - rowWidth;\n    default:\n      return null;\n  }\n}\n\nexport default function getBreakpointRows({\n  index,\n  cols,\n  children,\n  alignX,\n}: Props): Row[] {\n  const rows = [{ ids: [], width: 0 }];\n\n  children.map((child) => {\n    const currentRow = rows[rows.length - 1];\n    if (currentRow.width + child.width[index] <= cols) {\n      rows[rows.length - 1] = {\n        ids: [...currentRow.ids, child.id],\n        width: currentRow.width + child.width[index],\n      };\n    } else {\n      rows.push({\n        ids: [child.id],\n        width: child.width[index],\n      });\n    }\n  });\n\n  return rows.map((row) => ({\n    ...row,\n    width: getWidth(alignX, cols, row.width),\n  }));\n}\n","import getBreakpointRows from \"./getBreakpointRows\";\n\ninterface Props {\n  childBoxes: { left: number[]; right: number[]; cols: number[]; id: string }[];\n  cols: number[];\n  breakpoints: number[];\n  alignX: string[];\n  cssMode: \"flex\" | \"grid\";\n}\n\nfunction sumup(a: number[], b: number[], c: number[]): number[] {\n  return a.map((el, i) => el + b[i] + c[i]);\n}\n\nexport default function getAlignmentXRest({\n  childBoxes,\n  alignX,\n  cssMode,\n  cols,\n  breakpoints,\n}: Props): { id: string; width: number[] }[] {\n  if (!childBoxes.length || cssMode === \"flex\") return null;\n  if (childBoxes.length === 1) {\n    return [\n      {\n        id: childBoxes[0].id,\n        width: sumup(\n          childBoxes[0].cols,\n          childBoxes[0].left,\n          childBoxes[0].right\n        ).map((width: number, index: number) => {\n          return alignX[index] === \"center\" ? (cols[index] - width) / 2 : null;\n        }),\n      },\n    ];\n  }\n  const children = childBoxes.map((childBox) => ({\n    width: sumup(childBox.cols, childBox.left, childBox.right),\n    id: childBox.id,\n  }));\n\n  const breakpointRows = breakpoints.map((_, index) => {\n    return getBreakpointRows({\n      index,\n      children,\n      cols: cols[index],\n      alignX: alignX[index],\n    });\n  });\n\n  const rest = children.map((child) => {\n    return {\n      id: child.id,\n      width: breakpointRows.map((breakpointRow) => {\n        return breakpointRow.find((row) =>\n          row.ids.find((id: string) => id === child.id)\n        ).width;\n      }),\n    };\n  });\n  return rest;\n}\n","import normalizeProps from \"./normalizeProps\";\n\ninterface Props {\n  rest?: { id: string; width: number[] }[];\n  breakpoints: number[];\n  id: string;\n}\n\nexport default function normalizeRest({\n  rest,\n  id,\n  breakpoints,\n}: Props): number[] {\n  if (!rest) {\n    return normalizeProps({ prop: null, breakpoints });\n  }\n  return rest.find((r) => r.id === id).width;\n}\n","interface Props {\n  hasChildBoxesFromProps?: boolean;\n  hasChildBoxesFromRegister: boolean;\n}\n\nexport default function getReset({\n  hasChildBoxesFromProps,\n  hasChildBoxesFromRegister,\n}: Props): boolean {\n  return typeof hasChildBoxesFromProps === \"boolean\"\n    ? hasChildBoxesFromProps\n    : hasChildBoxesFromRegister;\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport Container from \"../utils/container\";\n\ninterface Props {\n  cssMode: \"grid\" | \"flex\";\n  breakpoints: number[];\n  className: string;\n  cols: number[];\n  rest: string[];\n  media: any[];\n  gutterX: string[];\n  gutterY: string[];\n  colspan: number[];\n  hasChildBoxes: boolean;\n  alignX: string[];\n  alignY: string[];\n  tag: string;\n  left: string[];\n  right: string[];\n  top: string[];\n  bottom: string[];\n  padding: string[];\n  controlIsVisible: boolean;\n  controlColor: string;\n  style?: string[];\n  attrs: object;\n  children: React.ReactNode;\n}\n\nconst GridLayout = styled(Container)<Props>`\n  box-sizing: border-box;\n  ${(props) => props.hasChildBoxes && \"display: grid;\"};\n\n  ${(props) =>\n    props.hasChildBoxes &&\n    props.media.map((media, index) => {\n      return media`\n      grid-template-columns: repeat(${(props) => props.colspan[index]}, 1fr);\n      grid-auto-columns: ${(props) => props.colspan[index]}fr;\n      grid-auto-rows: min-content;\n      grid-column-gap: ${props.gutterX[index]};\n      grid-row-gap: ${props.gutterY[index]};\n    `;\n    })}\n  ${(props) =>\n    !props.hasChildBoxes &&\n    props.media.map((media, index) => {\n      if (\n        props.alignX[index] === \"flex-start\" &&\n        props.alignY[index] === \"flex-start\"\n      )\n        return \"\";\n      return media`\n        ${(props.alignX[index] || props.alignY[index]) && `display: flex;`}\n        ${props.alignX[index] && `justify-content: ${props.alignX[index]};`}\n        ${props.alignY[index] && `align-items: ${props.alignY[index]};`}\n      `;\n    })}\n    \n  ${(props) =>\n    props.media.map((media, index) => {\n      return media`\n        ${!props.colspan[index] ? \"display: none;\" : \"\"}\n        position: relative;\n        grid-column: auto / span ${props.cols[index]};\n        left: ${props.rest[index]};\n        margin-left: ${props.left[index]};\n        margin-right: ${props.right[index]};\n        margin-top: ${props.top[index]};\n        margin-bottom: ${props.bottom[index]};\n        align-content: ${props.alignY[index]};\n        align-items: ${props.alignY[index]};\n        padding: ${props.padding[index]};\n        ${props.style[index]}\n      `;\n    })}\n\n  ${(props) =>\n    props.tag === \"img\" &&\n    props.controlIsVisible &&\n    `\n    box-shadow: 0 0 999em ${props.controlColor} inset;\n  `}\n`;\n\nconst FlexBox = styled(Container)<Props>`\n  display: flex;\n  box-sizing: border-box;\n\n  ${(props) =>\n    props.media.map((media, index) => {\n      return media`\n        width: ${props.cols[index]}%;\n        \n        padding-left: calc(${props.gutterX[index]} / 2);\n        padding-right: calc(${props.gutterX[index]} / 2);\n        padding-top: calc(${props.gutterY[index]} / 2);\n        padding-bottom: calc(${props.gutterY[index]} / 2);\n\n        margin-left: ${props.left[index]};\n        margin-right: ${props.right[index]};\n        margin-top: ${props.top[index]};\n        margin-bottom: ${props.bottom[index]};\n      `;\n    })}\n`;\n\nconst StyledBox = React.forwardRef<HTMLElement, Props>((props, ref) => {\n  switch (props.cssMode) {\n    case \"flex\":\n      return <FlexBox {...props} ref={ref} />;\n    case \"grid\":\n      return <GridLayout {...props} ref={ref} />;\n  }\n});\n\nexport default StyledBox;\n","import React from \"react\";\nimport { AlignX, AlignY } from \"../alignTypes\";\n\nexport interface Props {\n  cols?: number | number[];\n  left?: number | number[];\n  right?: number | number[];\n  top?: number | number[];\n  bottom?: number | number[];\n  padding?: string | string[];\n  alignX?: AlignX | AlignX[];\n  alignY?: AlignY | AlignY[];\n  style?: string | string[];\n  tag?: string;\n  attrs?: object;\n  hasChildBoxes?: boolean;\n  className?: string;\n  children?: React.ReactNode;\n  href?: string;\n  onClick?: () => void;\n}\n\nexport const defaultProps = {\n  className: null,\n  cols: null,\n  alignX: null,\n  alignY: null,\n  children: null,\n  left: 0,\n  right: 0,\n  top: 0,\n  bottom: 0,\n  padding: null,\n  style: null,\n  hasChildBoxes: null,\n  tag: \"div\",\n  attrs: {},\n  href: null,\n  onClick: null,\n};\n","interface Props {\n  margin: number[];\n  cols: number[];\n  parentCols: number[];\n  cssMode: \"grid\" | \"flex\";\n  gutterX: string[];\n}\n\nexport default function getMarginsPercent({\n  margin,\n  cols,\n  parentCols,\n  cssMode,\n  gutterX,\n}: Props): (string | undefined)[] {\n  if (cssMode === \"grid\") {\n    return margin.map((mar, index) => {\n      return mar\n        ? `calc(((100% + ${gutterX[index]}) / ${cols[index]}) * ${mar})`\n        : null;\n    });\n  }\n  return margin.map((mar, index) => {\n    return mar ? `${(mar * 100) / parentCols[index]}%` : undefined;\n  });\n}\n","import { useContext } from \"react\";\nimport getMarginsPercent from \"../../utils/getMarginsPercent\";\nimport Context from \"../../context\";\n\ninterface Props {\n  prop: number[];\n  cols: number[];\n}\n\nexport default function useMarginPercent({ prop, cols }: Props): string[] {\n  const { cssMode, gutterX, parentCols } = useContext(Context);\n  const percentValue = getMarginsPercent({\n    margin: prop,\n    cols,\n    gutterX,\n    parentCols,\n    cssMode,\n  });\n  return percentValue;\n}\n","import React, { useEffect, useContext, useState } from \"react\";\nimport classNames from \"classnames\";\nimport { nanoid } from \"nanoid\";\n\nimport getColsPercent from \"../utils/getColsPercent\";\nimport Inner from \"../utils/inner\";\nimport Resetter from \"../utils/resetter\";\nimport getAlign from \"../utils/getAlign\";\nimport getAlignmentXRest from \"../utils/getAlignmentXRest\";\nimport normalizeRest from \"../utils/normalizeRest\";\nimport normalizeProps from \"../utils/normalizeProps\";\nimport getReset from \"../utils/getReset\";\n\nimport Context from \"../context\";\nimport StyledBox from \"./StyledBox\";\nimport { ControlBox } from \"../Control\";\nimport { Props, defaultProps } from \"./props\";\n\nimport useMarginPercent from \"./hooks/useMarginPercent\";\n\nconst Box = React.forwardRef<HTMLElement, Props>(\n  (\n    {\n      className,\n      cols,\n      alignX,\n      alignY,\n      children,\n      left,\n      right,\n      top,\n      bottom,\n      padding,\n      style,\n      hasChildBoxes,\n      tag,\n      attrs,\n      href,\n      onClick,\n    },\n    ref\n  ) => {\n    const {\n      cssMode,\n      breakpoints,\n      gutterX,\n      gutterY,\n      colspan,\n      parentCols,\n      media,\n      controlIsVisible,\n      controlColor,\n      rest,\n      registerChildBox,\n    } = useContext(Context);\n\n    const id = React.useRef(nanoid());\n    const [childBoxes, setChildBoxes] = useState([]);\n    const hasChildBoxesNormalized = getReset({\n      hasChildBoxesFromProps: hasChildBoxes,\n      hasChildBoxesFromRegister: !!childBoxes.length,\n    });\n    const alignXNormalized = getAlign({\n      align: normalizeProps({ prop: alignX, breakpoints }),\n      cssMode,\n      hasChildBoxes: hasChildBoxesNormalized,\n    });\n    const alignYNormalized = getAlign({\n      align: normalizeProps({ prop: alignY, breakpoints }),\n      cssMode,\n      hasChildBoxes: hasChildBoxesNormalized,\n    });\n\n    const restNormalized = normalizeRest({ rest, breakpoints, id: id.current });\n\n    const leftNormalized = normalizeProps({ prop: left, breakpoints });\n    const rightNormalized = normalizeProps({ prop: right, breakpoints });\n    const topNormalized = normalizeProps({ prop: top, breakpoints });\n    const bottomNormalized = normalizeProps({ prop: bottom, breakpoints });\n    const paddingNormalized = normalizeProps({ prop: padding, breakpoints });\n    const styleNormalized = normalizeProps({ prop: style, breakpoints });\n    const colsNormalized = normalizeProps({\n      prop: cols,\n      defaultProp: parentCols,\n      breakpoints,\n    });\n\n    const colsPercent = getColsPercent({\n      cols: colsNormalized,\n      left: leftNormalized,\n      right: rightNormalized,\n      parentCols,\n      cssMode,\n    });\n\n    const restPercent = useMarginPercent({\n      prop: restNormalized,\n      cols: colsPercent,\n    });\n    const leftPercent = useMarginPercent({\n      prop: leftNormalized,\n      cols: colsPercent,\n    });\n    const rightPercent = useMarginPercent({\n      prop: rightNormalized,\n      cols: colsPercent,\n    });\n    const topPercent = useMarginPercent({\n      prop: topNormalized,\n      cols: colsPercent,\n    });\n    const bottomPercent = useMarginPercent({\n      prop: bottomNormalized,\n      cols: colsPercent,\n    });\n\n    const alignmentXRest = getAlignmentXRest({\n      breakpoints,\n      childBoxes,\n      cssMode,\n      alignX: alignXNormalized,\n      cols: colsNormalized,\n    });\n\n    useEffect(() => {\n      if (registerChildBox)\n        registerChildBox({\n          left: leftNormalized,\n          right: rightNormalized,\n          cols: colsNormalized,\n          id: id.current,\n        });\n    }, []);\n\n    return (\n      <StyledBox\n        cssMode={cssMode}\n        breakpoints={breakpoints}\n        className={cssMode === \"grid\" ? classNames([\"Box\", className]) : \"Box\"}\n        cols={colsPercent}\n        rest={restPercent}\n        media={media}\n        gutterX={gutterX}\n        gutterY={gutterY}\n        colspan={colsNormalized}\n        hasChildBoxes={hasChildBoxesNormalized}\n        alignX={alignXNormalized}\n        alignY={alignYNormalized}\n        tag={tag}\n        left={leftPercent}\n        right={rightPercent}\n        top={topPercent}\n        bottom={bottomPercent}\n        padding={paddingNormalized}\n        controlIsVisible={controlIsVisible}\n        controlColor={controlColor}\n        style={cssMode === \"grid\" && styleNormalized}\n        ref={ref}\n        attrs={{\n          ...attrs,\n          ...(href && { href }),\n          ...(onClick && { onClick }),\n        }}\n      >\n        <Inner\n          cssMode={cssMode}\n          media={media}\n          alignX={alignXNormalized}\n          alignY={alignYNormalized}\n          style={styleNormalized}\n          hasChildBoxes={hasChildBoxes}\n          className={classNames([\"Box__Inner\", className])}\n        >\n          <>\n            {controlIsVisible && <ControlBox controlColor={controlColor} />}\n            <Resetter\n              cssMode={cssMode}\n              className=\"Box__Resetter\"\n              hasChildBoxes={hasChildBoxesNormalized}\n              media={media}\n              gutterX={gutterX}\n              gutterY={gutterY}\n              alignX={alignXNormalized}\n              alignY={alignYNormalized}\n              padding={paddingNormalized}\n            >\n              <Context.Provider\n                value={{\n                  breakpoints,\n                  gutterX,\n                  gutterY,\n                  colspan,\n                  media,\n                  parentCols: colsNormalized,\n                  controlIsVisible,\n                  controlColor,\n                  cssMode,\n                  rest: alignmentXRest,\n                  registerChildBox: (childBox: {\n                    left: number[];\n                    right: number[];\n                    cols: number[];\n                    id: string;\n                  }) => {\n                    setChildBoxes((childBoxes) => [...childBoxes, childBox]);\n                  },\n                }}\n              >\n                {children}\n              </Context.Provider>\n            </Resetter>\n          </>\n        </Inner>\n      </StyledBox>\n    );\n  }\n);\n\nBox.displayName = \"Box\";\nBox.defaultProps = defaultProps;\n\nexport default Box;\nexport { Box };\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\n\nimport Grid from \"../Grid\";\nimport Box from \"../Box\";\n\ninterface ControlGridProps {\n  cssMode: \"grid\" | \"flex\";\n  colspan: number;\n  breakpoints: number[];\n  gutterX: string | string[];\n  gutterY: string | string[];\n  left: string | string[];\n  right: string | string[];\n  top: string | string[];\n  bottom: string | string[];\n  controlColor: string;\n  media: any[];\n}\n\nconst ControlGrid: React.FC<ControlGridProps> = (props) => {\n  return (\n    <Grid\n      {...props}\n      position=\"absolute\"\n      className=\"Grid--Control\"\n      alignY=\"stretch\"\n      isControl\n    >\n      {[...Array(props.colspan)].map((col, index) => (\n        <Box\n          key={index}\n          cols={1}\n          style={`\n            background-color: ${props.controlColor};\n          `}\n        />\n      ))}\n    </Grid>\n  );\n};\n\ninterface ControlBoxProps {\n  controlColor: string;\n}\n\nconst StyledControlBox = styled(\"div\")<ControlBoxProps>`\n  position: absolute;\n  z-index: 10000;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ${(props) => props.controlColor};\n  pointer-events: none;\n`;\n\nconst ControlBox: React.FC<ControlBoxProps> = (props) => {\n  return <StyledControlBox {...props} />;\n};\n\nexport { ControlGrid, ControlBox };\n","import React from \"react\";\n\nexport type currentBreakpoint = {\n  index: number;\n  value: number;\n};\n\nexport default function useCurrentBreakpoint(\n  breakpoints: number[]\n): currentBreakpoint {\n  const [currentBp, setCurrentBp] = React.useState<currentBreakpoint>({\n    index: 1,\n    value: 0,\n  });\n  React.useEffect(() => {\n    function onResize() {\n      const w = window.innerWidth;\n      let bp = { index: 1, value: 0 };\n      breakpoints.forEach((breakpoint, index) => {\n        if (breakpoint <= w) {\n          bp = { index: index + 1, value: breakpoint };\n        }\n      });\n      setCurrentBp(bp);\n    }\n    onResize();\n    window.addEventListener(\"resize\", onResize);\n    return () => window.removeEventListener(\"resize\", onResize);\n  }, []);\n  return currentBp;\n}\n","import React from \"react\";\nimport { AlignX, AlignY } from \"../alignTypes\";\n\nexport interface Props {\n  breakpoints?: number[];\n  colspan?: number;\n  left?: string | string[];\n  right?: string | string[];\n  top?: string | string[];\n  bottom?: string | string[];\n  gutterX?: string | string[];\n  gutterY?: string | string[];\n  alignX?: AlignX | AlignX[];\n  alignY?: AlignY | AlignY[];\n  control?: boolean;\n  controlColor?: string;\n  position?: string | string[];\n  className?: string;\n  style?: string | string[];\n  children?: React.ReactNode;\n  tag?: string;\n  attrs?: object;\n  isControl?: boolean;\n  cssMode?: \"grid\" | \"flex\";\n}\n\nexport const defaultProps = {\n  breakpoints: [0, 432, 768, 1024, 1200, 1400],\n  left: \"0\",\n  right: \"0\",\n  top: \"0\",\n  bottom: \"0\",\n  gutterX: \"0px\",\n  gutterY: \"0px\",\n  alignX: null,\n  alignY: null,\n  colspan: 1,\n  control: false,\n  controlColor: \"rgba(0, 0, 0, 0.1)\",\n  position: \"relative\",\n  style: null,\n  className: null,\n  children: null,\n  cssMode: null,\n  tag: \"div\",\n  attrs: {},\n  isControl: false,\n};\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Context from \"../context\";\nimport normalizeProps from \"../utils/normalizeProps\";\nimport getMediaQueries from \"../utils/getMediaQueries\";\nimport getAlign from \"../utils/getAlign\";\nimport useControl from \"../utils/useControl\";\nimport Inner from \"../utils/inner\";\nimport Resetter from \"../utils/resetter\";\nimport useCssMode from \"../utils/useCssMode\";\nimport StyledGrid from \"./StyledGrid\";\nimport { ControlGrid } from \"../Control\";\nimport useCurrentBreakpoint from \"../utils/useCurrentBreakpoint\";\nimport getAlignmentXRest from \"../utils/getAlignmentXRest\";\nimport { Props, defaultProps } from \"./props\";\n\nconst Grid = React.forwardRef<HTMLElement, Props>(\n  (\n    {\n      breakpoints,\n      left,\n      right,\n      top,\n      bottom,\n      gutterX,\n      gutterY,\n      alignX,\n      alignY,\n      colspan,\n      control,\n      controlColor,\n      position,\n      style,\n      className,\n      children,\n      cssMode,\n      tag,\n      attrs,\n      isControl,\n    },\n    ref\n  ) => {\n    const controlIsVisible = useControl(control);\n    const cssModeNormalized = useCssMode(cssMode || \"grid\");\n    const [childBoxes, setChildBoxes] = React.useState([]);\n\n    const currentBreakpoint = useCurrentBreakpoint(breakpoints);\n    const gutterXNormalized = normalizeProps({ prop: gutterX, breakpoints });\n    const gutterYNormalized = normalizeProps({ prop: gutterY, breakpoints });\n    const alignXNormalized = getAlign({\n      align: normalizeProps({ prop: alignX, breakpoints }),\n      cssMode: cssModeNormalized,\n      hasChildBoxes: true,\n    });\n    const alignYNormalized = getAlign({\n      align: normalizeProps({ prop: alignY, breakpoints }),\n      cssMode: cssModeNormalized,\n      hasChildBoxes: true,\n    });\n\n    const media = getMediaQueries(breakpoints);\n    const colsNormalized = normalizeProps({ prop: colspan, breakpoints });\n    const leftNormalized = normalizeProps({ prop: left, breakpoints });\n    const rightNormalized = normalizeProps({ prop: right, breakpoints });\n    const topNormalized = normalizeProps({ prop: top, breakpoints });\n    const bottomNormalized = normalizeProps({ prop: bottom, breakpoints });\n    const positionNormalized = normalizeProps({ prop: position, breakpoints });\n    const styleNormalized = normalizeProps({ prop: style, breakpoints });\n    const alignmentXRest = getAlignmentXRest({\n      breakpoints,\n      childBoxes,\n      cssMode,\n      alignX: alignXNormalized,\n      cols: colsNormalized,\n    });\n\n    return (\n      <StyledGrid\n        cssMode={cssModeNormalized}\n        colspan={colspan}\n        className={classNames([\n          \"Grid\",\n          `bp-${currentBreakpoint.index}`,\n          `bp-${currentBreakpoint.value}`,\n          className,\n        ])}\n        gutterX={gutterXNormalized}\n        gutterY={gutterYNormalized}\n        alignX={alignXNormalized}\n        alignY={alignYNormalized}\n        media={media}\n        left={leftNormalized}\n        right={rightNormalized}\n        top={topNormalized}\n        bottom={bottomNormalized}\n        position={positionNormalized}\n        tag={tag}\n        attrs={attrs}\n        style={styleNormalized}\n        ref={ref}\n        isControl={isControl}\n      >\n        {control && controlIsVisible && (\n          <ControlGrid\n            cssMode={cssModeNormalized}\n            colspan={colspan}\n            breakpoints={breakpoints}\n            gutterX={gutterXNormalized}\n            gutterY={gutterYNormalized}\n            left={leftNormalized}\n            right={rightNormalized}\n            top={topNormalized}\n            bottom={bottomNormalized}\n            controlColor={controlColor}\n            media={media}\n          />\n        )}\n        <Inner\n          cssMode={cssModeNormalized}\n          className=\"Grid__Inner\"\n          alignX={alignXNormalized}\n          alignY={alignYNormalized}\n          style={styleNormalized}\n          media={media}\n          hasChildBoxes\n        >\n          <Resetter\n            cssMode={cssModeNormalized}\n            className=\"Grid__Resetter\"\n            hasChildBoxes\n            gutterX={gutterXNormalized}\n            gutterY={gutterYNormalized}\n            alignX={alignXNormalized}\n            alignY={alignYNormalized}\n            media={media}\n          >\n            <Context.Provider\n              value={{\n                cssMode: cssModeNormalized,\n                breakpoints,\n                gutterX: gutterXNormalized,\n                gutterY: gutterYNormalized,\n                media,\n                colspan,\n                parentCols: colsNormalized,\n                controlIsVisible,\n                controlColor,\n                rest: alignmentXRest,\n                registerChildBox: (childBox: {\n                  left: number[];\n                  right: number[];\n                  cols: number[];\n                  id: string;\n                }) => {\n                  setChildBoxes((childBoxes) => [...childBoxes, childBox]);\n                },\n              }}\n            >\n              {children}\n            </Context.Provider>\n          </Resetter>\n        </Inner>\n      </StyledGrid>\n    );\n  }\n);\n\nGrid.defaultProps = defaultProps;\n\nexport default Grid;\nexport { Grid };\n"],"names":["React","css","styled","GridLayout","FlexBox","useContext","useState","useEffect","classNames","defaultProps"],"mappings":"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"}